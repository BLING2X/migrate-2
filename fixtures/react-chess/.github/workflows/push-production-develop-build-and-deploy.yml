on: push
name: Production Develop Build And Deploy
jobs:
  installDependencies:
    name: Install Dependencies
    steps:
    - name: Install Dependencies
      uses: actions/npm@master
      args: install
    - name: Lint Code
      uses: actions/npm@master
      args: run lint
    - name: Build Project
      uses: actions/npm@master
      args: run build
    - name: Docker Build
      uses: actions/docker/cli@master
      args: build -t roryclaasen/reactchess .
    - name: Login Heroku
      uses: actions/heroku@master
      args: container:login
    - name: Filter Production
      uses: actions/bin/filter@master
      args: branch master
    - name: Push Heroku Production
      uses: actions/heroku@master
      args: container:push -a react-chessgame web
    - name: Release Heroku Production
      uses: actions/heroku@master
      args: container:release -a react-chessgame web
